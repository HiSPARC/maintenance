% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[a4paper,11pt,english]{sphinxmanual}
\usepackage[utf8]{inputenc}
\DeclareUnicodeCharacter{00A0}{\nobreakspace}
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage{longtable}
\usepackage{sphinx}
\usepackage{multirow}


\title{HiSPARC Station Problem and Solutions Documentation}
\date{November 15, 2013}
\release{0.2}
\author{HiSPARC team}
\newcommand{\sphinxlogo}{\includegraphics{logo.pdf}\par}
\renewcommand{\releasename}{Release}
\makeindex

\makeatletter
\def\PYG@reset{\let\PYG@it=\relax \let\PYG@bf=\relax%
    \let\PYG@ul=\relax \let\PYG@tc=\relax%
    \let\PYG@bc=\relax \let\PYG@ff=\relax}
\def\PYG@tok#1{\csname PYG@tok@#1\endcsname}
\def\PYG@toks#1+{\ifx\relax#1\empty\else%
    \PYG@tok{#1}\expandafter\PYG@toks\fi}
\def\PYG@do#1{\PYG@bc{\PYG@tc{\PYG@ul{%
    \PYG@it{\PYG@bf{\PYG@ff{#1}}}}}}}
\def\PYG#1#2{\PYG@reset\PYG@toks#1+\relax+\PYG@do{#2}}

\expandafter\def\csname PYG@tok@gd\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gu\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@gt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PYG@tok@gs\endcsname{\let\PYG@bf=\textbf}
\expandafter\def\csname PYG@tok@gr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@cm\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@vg\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@m\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@mh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@cs\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\colorbox[rgb]{1.00,0.94,0.94}{\strut ##1}}}
\expandafter\def\csname PYG@tok@ge\endcsname{\let\PYG@it=\textit}
\expandafter\def\csname PYG@tok@vc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@il\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@go\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.20,0.20,0.20}{##1}}}
\expandafter\def\csname PYG@tok@cp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@gi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gh\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@ni\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.84,0.33,0.22}{##1}}}
\expandafter\def\csname PYG@tok@nl\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.13,0.44}{##1}}}
\expandafter\def\csname PYG@tok@nn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@no\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.38,0.68,0.84}{##1}}}
\expandafter\def\csname PYG@tok@na\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@nb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@nd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.33,0.33,0.33}{##1}}}
\expandafter\def\csname PYG@tok@ne\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.49}{##1}}}
\expandafter\def\csname PYG@tok@si\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.44,0.63,0.82}{##1}}}
\expandafter\def\csname PYG@tok@s2\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@vi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@nt\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.45}{##1}}}
\expandafter\def\csname PYG@tok@nv\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@s1\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@gp\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@sh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@ow\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@sx\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@bp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c1\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@kc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@mf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@err\endcsname{\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PYG@tok@kd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@ss\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.32,0.47,0.09}{##1}}}
\expandafter\def\csname PYG@tok@sr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.14,0.33,0.53}{##1}}}
\expandafter\def\csname PYG@tok@mo\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@mi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@o\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PYG@tok@kr\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@s\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@kp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@w\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PYG@tok@kt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.56,0.13,0.00}{##1}}}
\expandafter\def\csname PYG@tok@sc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@k\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@se\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sd\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}

\def\PYGZbs{\char`\\}
\def\PYGZus{\char`\_}
\def\PYGZob{\char`\{}
\def\PYGZcb{\char`\}}
\def\PYGZca{\char`\^}
\def\PYGZam{\char`\&}
\def\PYGZlt{\char`\<}
\def\PYGZgt{\char`\>}
\def\PYGZsh{\char`\#}
\def\PYGZpc{\char`\%}
\def\PYGZdl{\char`\$}
\def\PYGZhy{\char`\-}
\def\PYGZsq{\char`\'}
\def\PYGZdq{\char`\"}
\def\PYGZti{\char`\~}
% for compatibility with earlier versions
\def\PYGZat{@}
\def\PYGZlb{[}
\def\PYGZrb{]}
\makeatother

\begin{document}

\maketitle
\tableofcontents
\phantomsection\label{index::doc}


The HiSPARC software can be downloaded here: \href{http://www.hisparc.nl/downloads/software/}{HiSPARC Installer}

A pdf version of this manual is available here: HiSPARC maintenance manual

For more information about HiSPARC, see the \href{http://www.hisparc.nl/}{HiSPARC Website}.

For questions or suggestions please contact our project coordinator
Surya Bonam (\href{mailto:info@hisparc.nl}{info@hisparc.nl}).


\chapter{Introduction}
\label{introduction:introduction}\label{introduction::doc}\label{introduction:welcome-to-the-hisparc-maintenance-documentation}
This documentation describes the steps required to solve problems with an HiSPARC station.  It first explains how to recognize different problems and then how to solve them.

The first part, {\hyperref[faq::doc]{\emph{Frequently asked questions}}}, might help answer some questions that you have.

The second part, {\hyperref[known-issues::doc]{\emph{Known issues}}}, describes some of the known issues that we have encountered with the HiSPARC software and hardware. It discribes how to determine if the problem described is what you are experiencing and then possible solutions.


\chapter{Frequently asked questions}
\label{faq::doc}\label{faq:frequently-asked-questions}\begin{itemize}
\item {} \begin{description}
\item[{Nothing works! What can I do?}] \leavevmode\begin{itemize}
\item {} 
Don't Panic! Try to determine where the problem lies and find the solution in this documentation.

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{Where do I find the list of known (possible) issues?}] \leavevmode\begin{itemize}
\item {} 
Here: {\hyperref[known-issues::doc]{\emph{Known issues}}}

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{The historgrams for my station don't look correct, how can I adjust the station settings to fix this?}] \leavevmode\begin{itemize}
\item {} 
Read here about \href{http://docs.hisparc.nl/station-software/doc/configuratie.html\#calibratie-van-de-detector}{calibrating the detectors}

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{I tried that, I didn't find a similar problem! What do I do now?}] \leavevmode\begin{itemize}
\item {} 
Please contact your \href{http://www.hisparc.nl/over-hisparc/organisatie/}{cluster coordinator}  for further assitance. They may be aware of such problems the corresponding solutions to the problem, and if they are not, they will consult us.

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{Where can I find the documentation for a certain part of the software or hardware?}] \leavevmode\begin{itemize}
\item {} 
On this page there is an overview of all our documentation pages: \href{http://docs.hisparc.nl/}{HiSPARC docs}

\end{itemize}

\end{description}

\end{itemize}


\chapter{Known issues}
\label{known-issues:known-issues}\label{known-issues::doc}
This is a list of known possible issues with HiSPARC stations. For each problem some steps are given which can be followed to determine if that problem is indeed occuring on your station. Possible Nagios Service warnings that might alert you to the problem are noted.

Here are filters to only show problems which cause a certain Nagios warning:
Buffer size,
CPU Load,
Drive Space,
EventRate,
Labview Usage,
Memory Usage,
StorageGrowth,
StorageSize,
TriggerRate,
Uptime.

\begin{notice}{note}{Note:}
Multiple issues can cause the same Nagios warning.
\end{notice}

Each problem described below has the following fields:
\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
Explaining how you will probably notice the problem.

\item[{Nagios}] \leavevmode
Nagios warnings that can be triggered.

\item[{Determination}] \leavevmode
This is a small guide explaining how to make sure that the problem being described is what you are experiencing.

\item[{Solution}] \leavevmode
How to solve it.

\item[{Effects}] \leavevmode
The effects of this problem.

\end{description}\end{quote}


\section{Software}
\label{known-issues:software}
This sections concerns itself with issues related to the HiSPARC
station-software.


\subsection{HiSPARC Monitor does not start}
\label{known-issues:hisparc-monitor-does-not-start}

\subsubsection{Missing directory}
\label{known-issues:missing-directory}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
When the \code{STARTHiSPARCSoftware} program runs and the other programs (HiSPARC DAQ and Updater) start normally but the HiSPARC Monitor does not appear or closes instantly.

\item[{Nagios}] \leavevmode
\textbf{EventRate}, \textbf{StorageGrowth}, \textbf{StorageSize}, \textbf{TriggerRate}, and possibly \textbf{Buffer size}

\item[{Determination}] \leavevmode\begin{itemize}
\item {} 
Look in \code{hisparc/persistent/logs/src/} for the latest log file.

\item {} 
Check if there is a line that contains the text \code{Error: unable to open database file}.

\item {} 
Look in the \code{hisparc/persistent/data/} directory for a \code{hsmonitor} folder.

\item {} 
If it does not exist than go to the solution, otherwise this is not the problem.

\end{itemize}

\item[{Solution}] \leavevmode
Create the missing \code{hsmonitor} directory in \code{hisparc/persistent/data}.

\item[{Effects}] \leavevmode
The missing directory causes the HiSPARC Monitor to be unable to store events in its SQLite database, preventing it from sending events to the Nikhef datastore. Note that the HiSPARC DAQ should be unaffected. No events should be lost, the DAQ will store events in its MySQL database until the hard disc fills up.

\end{description}\end{quote}


\subsection{Hard Disc Space}
\label{known-issues:hard-disc-space}

\subsubsection{To many logs}
\label{known-issues:to-many-logs}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
Nagios warning about Disc Space.

\item[{Nagios}] \leavevmode
\textbf{Drive Space}

\item[{Determination}] \leavevmode\begin{itemize}
\item {} 
Look in \code{hisparc/persistent/logs/}.

\item {} 
Check the size of the src directory by right-clicking on it and choosing `Properties'.

\item {} 
Check if this is a significant fraction of the total disc space.

\end{itemize}

\item[{Solution}] \leavevmode
Remove all logs from the src directory except for the current one (present date in \code{dd-mm-yyyy.log}). Select all (ctrl + a) logs in \code{hisparc/persistent/logs/src}. Deselect the current one (ctrl + click). Remove them using shift + delete (to bypass the Recycle Bin)

\item[{Effects}] \leavevmode
If the disc is full the HiSPARC daq can not store events in the database, preventing the station from storing more events.

\end{description}\end{quote}


\subsubsection{To many updaters}
\label{known-issues:to-many-updaters}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
Nagios warning about Disc Space.

\item[{Nagios}] \leavevmode
\textbf{Drive Space}

\item[{Determination}] \leavevmode\begin{itemize}
\item {} 
Look in \code{hisparc/persistent/downloads/}.

\item {} 
There should be some adminUpdater\_v\#\#.zip and userUnpacker\_v\#\#.exe files there.

\item {} 
By right-clicking them you can see their file size is of the order of 100 MB.

\item {} 
If there are many they can take up some space.

\end{itemize}

\item[{Solution}] \leavevmode
Remove all userUnpacker and adminUpdater files except the newest ones. Do this by selecting them and pressing shift + delete to remove them directly.

\item[{Effects}] \leavevmode
If the disc is full the HiSPARC daq can not store events in the database, preventing the station from storing more events.

\end{description}\end{quote}


\subsection{HiSPARC DAQ Errors}
\label{known-issues:hisparc-daq-errors}

\subsubsection{Can not connect to buffer}
\label{known-issues:can-not-connect-to-buffer}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
Red LED in HiSPARC DAQ

\item[{Nagios}] \leavevmode
\item[{Determination}] \leavevmode
From the Start menu start odbcad32.exe. Check if the hisparc buffer is there.

\item[{Solution}] \leavevmode
\item[{Effects}] \leavevmode
The HiSPARC DAQ will not be able to store events.

\end{description}\end{quote}


\subsubsection{Not in DAQ Mode}
\label{known-issues:not-in-daq-mode}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
\item[{Nagios}] \leavevmode
\textbf{TriggerRate}

\item[{Determination}] \leavevmode
Look at the program HiSPARC DAQ, see if the button in the middle shows `DAQ Mode'.

\item[{Solution}] \leavevmode
Click the `DAQ Mode' button in the HiSPARC DAQ.

\item[{Effects}] \leavevmode
When the HiSPARC DAQ is not in DAQ Mode it will not store triggered events.

\end{description}\end{quote}


\subsection{Error in HiSPARC Monitor}
\label{known-issues:error-in-hisparc-monitor}

\subsubsection{Malformed HisparcII.ini}
\label{known-issues:malformed-hisparcii-ini}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
Errors in the HiSPARC Monitor: \code{Uncatched exception in job: need more than 1 value to unpack. Restarting...}

\item[{Nagios}] \leavevmode
\textbf{TriggerRate}

\item[{Determination}] \leavevmode
Check in the file \code{hisparc/persistent/configuration/HisparcII.ini} for blank lines

\item[{Solution}] \leavevmode
Remove any blank lines from HisparcII.ini

\item[{Effects}] \leavevmode
Errors in the HiSPARC Monitor and no TriggerRate updates for Nagios.

\end{description}\end{quote}


\subsubsection{Time difference to large}
\label{known-issues:time-difference-to-large}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
Errors in the HiSPARC Monitor: \code{Uncatched exception in job: invalid literal for int() with base 10: 'difference too large'. Restarting...}

\item[{Nagios}] \leavevmode
\textbf{TriggerRate}

\item[{Determination}] \leavevmode
Check in the file \code{hisparc/persistent/configuration/HisparcII.ini} for the text \code{difference to large}.

\item[{Solution}] \leavevmode
Check the PC time, make sure that it is set to the current time. Check the GPS settings, make sure that it is working and showing the correct GPS time.

\item[{Effects}] \leavevmode
Errors in the HiSPARC Monitor and no TriggerRate updates for Nagios.

\end{description}\end{quote}


\subsubsection{400 Bad Request}
\label{known-issues:bad-request}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
Errors in the HiSPARC Monitor: \code{Error Uploader: .. Return code: 400}

\item[{Nagios}] \leavevmode
\textbf{StorageSize}, \textbf{TriggerRate}

\item[{Determination}] \leavevmode
Ensure that all required variables are being uploaded: station\_id, password, data and the checksum.

\item[{Solution}] \leavevmode
Check that the station number and password are entered correctly in the configuration file: \code{hisparc/persistent/configuration/config.ini}.

\item[{Effects}] \leavevmode
No data will be uploaded.

\end{description}\end{quote}


\subsection{GPS}
\label{known-issues:gps}

\subsubsection{Firmware not loaded}
\label{known-issues:firmware-not-loaded}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
No GPS appears in DSP Mon

\item[{Nagios}] \leavevmode
\item[{Determination}] \leavevmode
This only occurs with HiSPARC III electronics when their firmware is not yet loaded, which is indicated by all LEDs on the unit being on.

\item[{Solution}] \leavevmode
Start the HiSPARC DAQ to load the firmware into the HiSPARC electronics.

\item[{Effects}] \leavevmode
No GPS recognized by DSP Mon.

\end{description}\end{quote}


\subsubsection{COM Port to high}
\label{known-issues:com-port-to-high}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
The GPS date attatched to events is very inaccurate, like \textasciitilde{}1999 or \textasciitilde{}2019.

\item[{Nagios}] \leavevmode
\item[{Determination}] \leavevmode\begin{itemize}
\item {} 
Open Configuration -\textgreater{} System -\textgreater{} Hardware -\textgreater{} Browse Devices -\textgreater{} Com Ports

\item {} 
If the Com ports number higher than 32 the DSP Mon GPS program can not connect to the GPS

\end{itemize}

\item[{Solution}] \leavevmode
Lower the COM Port Number, by direct reassignment, use the com\_port\_reassign utility.

\item[{Effects}] \leavevmode
No GPS recognized by DSP Mon, this causes data to get dates like 1999 or 2019, making the data unusable.

\end{description}\end{quote}


\subsubsection{No antenna connected}
\label{known-issues:no-antenna-connected}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
The GPS get no satelite signals, seen in the Satelites tab of the HiSPARC DAQ.

\item[{Nagios}] \leavevmode
\item[{Determination}] \leavevmode
Open DSP Mon and check the LED status of the \code{Antenna Open}. It will be yellow while some of the other LEDs are green. Also all Signal Values (SV) will be 0.

\item[{Solution}] \leavevmode
Check the GPS cable for kinks or cuts, also check if the antenna is still properly attached. Once fixed the SV should rise and turn green, as well as the \code{Antenna Open} status.

\item[{Effects}] \leavevmode
Makes the GPS unable to determine the correct date. Is falls back to some other date like 1999 or 2019, making the data unusable.

\end{description}\end{quote}


\subsubsection{Time offset}
\label{known-issues:time-offset}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
No coincidences with nearby stations.

\item[{Nagios}] \leavevmode
\item[{Determination}] \leavevmode
Open DSP Mon and check if the timing for the GPS is set to UTC or GPS, it should be GPS.

\item[{Solution}] \leavevmode
Set the GPS Timing to use GPS time.

\item[{Effects}] \leavevmode
There is a difference of \textasciitilde{}16 seconds between GPS en UTC time, resulting in offset timestamps if the wrong setting is chosen.

\end{description}\end{quote}


\subsection{Uploading}
\label{known-issues:uploading}

\subsubsection{Proxy not set}
\label{known-issues:proxy-not-set}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
No data is uploaded, the local storage fills with events

\item[{Nagios}] \leavevmode
\textbf{StorageSize}

\item[{Determination}] \leavevmode
Run Diagnostics (LocalDiagnosticTool in older versions) to check if a proxy is required.

\item[{Solution}] \leavevmode
Run Diagnostics (LocalDiagnosticTool in older versions) to check Proxy settings, if it finds proxy settings for the system it can use these to configure them for Python. Press the Write Config.

\item[{Effects}] \leavevmode
\end{description}\end{quote}


\subsection{Firewall}
\label{known-issues:firewall}

\subsubsection{VPN blocked}
\label{known-issues:vpn-blocked}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
All Status indicators on Nagios are CRITICAL

\item[{Nagios}] \leavevmode
\textbf{Host}, \textbf{Buffer size}, \textbf{CPU Load}, \textbf{Drive Space}, \textbf{EventRate}, \textbf{Labview Usage}, \textbf{Memory Usage}, \textbf{StorageGrowth}, \textbf{StorageSize}, \textbf{TriggerRate}, \textbf{Uptime}

\item[{Determination}] \leavevmode
Run Diagnostics (LocalDiagnosticTool in older versions) to check the VPN status.

\item[{Solution}] \leavevmode
Open TCP port 443 in the firewalls

\item[{Effects}] \leavevmode
Nagios will be unable to check the status of all services. Moreover, the HiSPARC support will be unable to log into the PC remotely to assist in case of problems.

\end{description}\end{quote}


\subsubsection{Web blocked}
\label{known-issues:web-blocked}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
No data is uploaded, the local storage fills with events

\item[{Nagios}] \leavevmode
\textbf{StorageSize}

\item[{Determination}] \leavevmode
Try opening a website in a browser on the detector PC, preferably www.nikhef.nl, if this fails then web traffic is blocked. If the browser has no problems, then look at the {\hyperref[known-issues:proxy-not-set]{Proxy not set}} issue.

\item[{Solution}] \leavevmode
Open port 80 in the firewalls

\item[{Effects}] \leavevmode
The Uploader of the HiSPARC Monitor uses a HTTP POST Request to send data to our datastore, but this will be blocked if port 80 is closed.

\end{description}\end{quote}


\subsubsection{.exe blocked}
\label{known-issues:exe-blocked}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
An update is available but the software can not download it

\item[{Nagios}] \leavevmode
\item[{Determination}] \leavevmode
Try opening the link to the updater, shown in the HiSPARC Updater, in a webbrowser. If this fails then .exe files are probably blocked by the network.

\item[{Solution}] \leavevmode
Allow downloading of .exe files through the firewall

\item[{Effects}] \leavevmode
The Updater will see there is an update and quit the HiSPARC DAQ. However when the update fail it will restart the HiSPARC software, but then see there is an update and try again, it will be stuck in this loop.

\end{description}\end{quote}


\section{Hardware}
\label{known-issues:hardware}
This sections concerns itself with issues related to the HiSPARC
electronics and hardware.


\subsection{Bad signals}
\label{known-issues:bad-signals}

\subsubsection{Bad power supply}
\label{known-issues:bad-power-supply}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
HiSPARC DAQ might frequently loose the connection to the HiSPARC electronics or there will be fluctuations (sine) over the signal

\item[{Nagios}] \leavevmode
\item[{Determination}] \leavevmode
Replace the power supply with a new one and see if the problem disappears

\item[{Solution}] \leavevmode
Replace the power supply

\item[{Effects}] \leavevmode
\end{description}\end{quote}


\subsubsection{Light leak}
\label{known-issues:light-leak}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
Many small peaks (short pulses) in the signals in the HiSPARC DAQ, also the number of events will increase during day time (due to sunlight)

\item[{Nagios}] \leavevmode
\textbf{TriggerRate}

\item[{Determination}] \leavevmode
Cover the detector with a light-tight blanket or foil. Now the extra peaks should disappear.

\item[{Solution}] \leavevmode
Patch the light-leaking parts with new foil/tape.

\item[{Effects}] \leavevmode
\end{description}\end{quote}


\subsubsection{Bad PMT base}
\label{known-issues:bad-pmt-base}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
The current (mA) for one of the PMTs is very high (above 15 mA)

\item[{Nagios}] \leavevmode
\item[{Determination}] \leavevmode
Look in the HiSPARC DAQ at the current used by the PMTs. If this is above 15 mA something if probably wrong.

\item[{Solution}] \leavevmode
Try lowering the High Voltage on the PMT, or turning it off for a day. If that does not help it may need to be replaced, contact your cluster coordinator.

\item[{Effects}] \leavevmode
The PMT will not function properly.

\end{description}\end{quote}


\subsection{No Devices Found}
\label{known-issues:no-devices-found}

\subsubsection{Connect to power}
\label{known-issues:connect-to-power}\begin{quote}\begin{description}
\item[{First Sign}] \leavevmode
HiSPARC DAQ s unable to connect to the HiSPARC electronics

\item[{Nagios}] \leavevmode
\textbf{EventRate}, \textbf{StorageGrowth}, \textbf{StorageSize}, \textbf{TriggerRate}

\item[{Determination}] \leavevmode
Start the HiSPARC DAQ, it will show a message that no device is found. Check if the LEDs on the HiSPARC electronics box are lit.

\item[{Solution}] \leavevmode
Connect the HiSPARC electronic box via the provided Power supply to a power outlet.

\item[{Effects}] \leavevmode
No data can be taken.

\end{description}\end{quote}



\renewcommand{\indexname}{Index}
\printindex
\end{document}
